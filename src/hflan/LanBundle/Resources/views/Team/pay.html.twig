{% extends 'hflanLanBundle:Team:layout.html.twig' %}

{% block content %}
    {% set numberOfMinor = 0 %}
    {% for player in team.players if player.isMinor %}
        {% set numberOfMinor = numberOfMinor + 1 %}
    {% endfor %}

    {% if numberOfMinor > 0 %}
        <div class="flash flash-warning" style="margin-top: 20px">
            {{ renderBlock('registration_minor') }}
        </div>
    {% endif %}

    {% if team.paid %}
        {% if not tournament.isPaymentOnTheSpot %}
            {{ renderBlock("registration_complete") }}
        {% else %}
            {{ renderBlock("registration_complete_on_the_spot") }}
        {% endif %}
    {% else %}
        {% if tournament.fillingRatio < 100 %}
            {% if not tournament.isPaymentOnTheSpot %}
                {{ renderBlock("registration_buy_instruction") }}
                <a class="btn" href="http://s.buypacker.com/hvq">
                    <i class="fa fa-shopping-cart"></i>
                    Acheter ma place
                </a>
            {% else %}
                {{ renderBlock("registration_complete_on_the_spot") }}
            {% endif %}
        {% else %}
            {{ renderBlock("registration_tournament_full") }}
        {% endif %}
    {% endif %}

{% endblock %}
